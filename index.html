<!DOCTYPE html>
<html>
  <head>
    <title>Registration Form</title>
    <script>
      window.addEventListener('DOMContentLoaded', () => {
        const form = document.forms.registrationForm;

        form.addEventListener('submit', (event) => {
          event.preventDefault();
          const nameInput = form.elements.name;
          const emailInput = form.elements.email;
          const passwordInput = form.elements.password;
          const confirmPasswordInput = form.elements.confirmPassword;

          const name = nameInput.value.trim();
          const email = emailInput.value.trim();
          const password = passwordInput.value.trim();
          const confirmPassword = confirmPasswordInput.value.trim();

          // Validate name
          if (name.length < 2) {
            nameInput.setCustomValidity('Name must be at least 2 characters long.');
          } else {
            nameInput.setCustomValidity('');
          }

          // Validate email
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(email)) {
            emailInput.setCustomValidity('Invalid email address.');
          } else {
            emailInput.setCustomValidity('');
          }

          // Validate password
          if (password.length < 8) {
            passwordInput.setCustomValidity('Password must be at least 8 characters long.');
          } else {
            passwordInput.setCustomValidity('');
          }

          // Validate confirm password
          if (confirmPassword !== password) {
            confirmPasswordInput.setCustomValidity('Passwords do not match.');
          } else {
            confirmPasswordInput.setCustomValidity('');
          }

          form.reportValidity();
        });
      });
    </script>
  </head>
  <body>
    <h1>Registration Form</h1>
    <form name="registrationForm" method="POST" action="">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>
      <br><br>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
      <br><br>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
      <br><br>
      <label for="confirmPassword">Confirm Password:</label>
      <input type="password" id="confirmPassword" name="confirmPassword" required>
      <br><br>
      <button type="submit">Register</button>
    </form>
  </body>
</html>
